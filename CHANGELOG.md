# Changelog - DevScope

## [0.2.0] - 2025-10-17

### üéâ Release Completa v0.2.0 - Todas as Features Implementadas!

Esta vers√£o implementa TODAS as funcionalidades planejadas para o MVP completo do DevScope!

---

### ‚ú® Novas Funcionalidades Implementadas

#### 1. Body Editor JSON Completo
- **Implementa√ß√£o**: Editor de texto multi-linha com textarea
- **Funcionalidades**:
  - Edi√ß√£o livre de JSON/texto
  - √Årea de texto responsiva (80x10)
  - Limite de 10.000 caracteres
  - Salvamento com Ctrl+S
  - Cancelamento com Esc
- **Arquivo**: `internal/ui/editors.go:351-376`
- **UI**: Borda arredondada com destaque visual

#### 2. Query Parameters Editor
- **Implementa√ß√£o**: Editor completo de par√¢metros de URL
- **Funcionalidades**:
  - Adicionar novos query params (tecla 'n')
  - Editar params existentes (tecla 'e' ou Enter)
  - Deletar params (tecla 'd')
  - Navega√ß√£o com ‚Üë/‚Üì
  - Params automaticamente adicionados √† URL antes do request
- **Arquivo**: `internal/ui/editors.go:378-478`
- **Integra√ß√£o**: Fun√ß√£o `buildURLWithQueryParams()` constr√≥i URL final

#### 3. Response Headers Viewer
- **Implementa√ß√£o**: Visualiza√ß√£o de headers HTTP da resposta
- **Funcionalidades**:
  - Toggle entre Body e Headers (tecla 'h')
  - Formata√ß√£o alinhada (chave : valor)
  - Scroll para headers longos
  - T√≠tulo din√¢mico ("Response" ou "Response Headers")
- **Arquivo**: `internal/ui/model.go:654-766`

#### 4. Copy to Clipboard
- **Implementa√ß√£o**: C√≥pia da resposta para √°rea de transfer√™ncia
- **Funcionalidades**:
  - Tecla 'c' copia todo o body da resposta
  - Feedback visual "‚úì Copied to clipboard!"
  - Integra√ß√£o com biblioteca `atotto/clipboard`
- **Arquivo**: `internal/ui/model.go:373-381`

#### 5. Valida√ß√£o de URL
- **Implementa√ß√£o**: Valida√ß√£o completa antes de enviar request
- **Valida√ß√µes**:
  - URL n√£o pode estar vazia
  - Protocolo obrigat√≥rio (http:// ou https://)
  - Host v√°lido obrigat√≥rio
  - Parse completo da URL
  - Mensagens de erro descritivas
- **Arquivo**: `internal/ui/model.go:466-487`
- **Benef√≠cio**: Previne erros HTTP confusos com feedback claro

#### 6. Enter na URL para Enviar Request
- **Implementa√ß√£o**: Atalho intuitivo para envio r√°pido
- **Comportamento**: Pressionar Enter no campo URL envia o request imediatamente
- **Arquivo**: `internal/ui/model.go:306-310`
- **UX**: Elimina necessidade de Tab at√© bot√£o "Send"

#### 7. Melhor Tratamento de Erro do Storage
- **Implementa√ß√£o**: Avisos claros quando storage falha
- **Comportamento**:
  - Warning no console se ~/.devscope/ n√£o pode ser criado
  - Aplica√ß√£o continua funcionando (requests n√£o s√£o salvos)
  - Usu√°rio informado explicitamente
  - N√£o h√° crashes silenciosos
- **Arquivo**: `internal/ui/model.go:120-126`

---

### üîß Melhorias na UI

#### Request Builder Atualizado
- **Novos campos vis√≠veis**:
  - Query Params: (contador) - Foc√°vel com Tab
  - Headers: (contador) - Foc√°vel com Tab
  - Body: (preview/empty) - Foc√°vel com Tab
- **Layout**: 8 campos naveg√°veis (Method, URL, Query, Headers, Body, Send, Load, Quit)
- **Indicadores**: Contadores e previews em tempo real
- **Arquivo**: `internal/ui/model.go:572-656`

#### Novos Estados
- **StateQueryEditor**: Estado dedicado para editor de query params
- **State machine completa**: 8 estados totalmente implementados

---

### üìã Funcionalidades Completas Agora Dispon√≠veis

1. ‚úÖ Request Builder b√°sico
2. ‚úÖ Suporte a m√©todos HTTP (GET, POST, PUT, DELETE, PATCH)
3. ‚úÖ Visualiza√ß√£o de resposta formatada
4. ‚úÖ Persist√™ncia de requests
5. ‚úÖ Lista de requests salvos
6. ‚úÖ Editor de headers (adicionar, editar, deletar)
7. ‚úÖ Editor de body JSON
8. ‚úÖ Query params editor
9. ‚úÖ Response headers viewer
10. ‚úÖ Valida√ß√£o de URL
11. ‚úÖ Copy to clipboard
12. ‚úÖ Enter na URL para enviar
13. ‚úÖ Tratamento robusto de erros

---

### üìù Arquivos Modificados

#### Principais
- `internal/ui/model.go`:
  - Novos campos no Model (queryParams, bodyEditor, etc.)
  - Valida√ß√£o de URL implementada
  - Copy to clipboard na resposta
  - Response headers viewer
  - ViewRequestBuilder atualizado
  - Linhas adicionadas: ~200

- `internal/ui/editors.go`:
  - Body Editor completo
  - Query Editor completo
  - Handlers de teclado para ambos
  - Views renderizadas
  - Linhas adicionadas: ~240

#### Documenta√ß√£o
- `README.md`:
  - Vers√£o atualizada para v0.2.0
  - Roadmap atualizado (todas features ‚úÖ)
  - Exemplos atualizados

- `DEVSCOPE.md`:
  - Vers√£o v0.2.0
  - Status: "MVP funcional com Header Editor"

- `internal/storage/requests.go`:
  - Vers√£o v0.2.0

---

### üéØ Estat√≠sticas da Release

- **Linhas de c√≥digo adicionadas**: ~440
- **Novas funcionalidades**: 7 implementa√ß√µes completas
- **Estados adicionados**: 1 (QueryEditor)
- **Campos no Model**: 13 novos campos
- **Compila√ß√£o**: ‚úÖ Sucesso (11MB)
- **Diagn√≥sticos**: Apenas 3 hints de moderniza√ß√£o (n√£o-cr√≠ticos)

---

### üöÄ Como Usar as Novas Funcionalidades

#### Query Parameters
```
1. Na tela principal, Tab at√© "Query Params: (0)"
2. Pressione Enter
3. Pressione 'n' para adicionar novo param
4. Digite nome (ex: "page") ‚Üí Tab ‚Üí Digite valor (ex: "1")
5. Enter para salvar
6. Esc para voltar
7. Query params s√£o automaticamente adicionados √† URL!
```

#### Body Editor
```
1. Tab at√© "Body: (empty)"
2. Pressione Enter
3. Digite seu JSON ou texto
4. Ctrl+S para salvar (ou Esc para cancelar)
5. Request usar√° o body definido
```

#### Response Headers
```
1. Ap√≥s receber uma resposta
2. Pressione 'h' para alternar entre Body e Headers
3. Navegue com ‚Üë/‚Üì se houver muitos headers
```

#### Copy Response
```
1. Ap√≥s receber uma resposta
2. Pressione 'c' para copiar
3. Feedback visual aparece: "‚úì Copied to clipboard!"
4. Cole em qualquer lugar com Ctrl+V
```

---

### üêõ Corre√ß√µes

- Tratamento de erro do Storage n√£o causava crashes
- URL sem protocolo agora tem valida√ß√£o clara
- Enter na URL agora funciona (antes era ignorado)
- ViewRequestBuilder agora mostra todos os editores

---

### üìö Documenta√ß√£o Atualizada

- README.md: Roadmap completo com v0.2.0 finalizado
- CHANGELOG.md: Este arquivo com detalhes completos
- Exemplos atualizados para incluir novas features

---

## [0.1.2] - 2025-10-16

### Corre√ß√µes de Clipboard

#### 1. Ctrl+V (Paste) n√£o funcionava
**Problema:** N√£o era poss√≠vel colar URLs usando Ctrl+V.

**Solu√ß√£o:** Refatorada a l√≥gica de intercepta√ß√£o de teclas para permitir que opera√ß√µes de clipboard sejam passadas ao textinput:
- `Ctrl+V` agora funciona para colar
- `Ctrl+A` funciona para selecionar tudo
- `Ctrl+C` funciona para copiar (quando h√° texto selecionado)
- `Ctrl+X` funciona para cortar

**Implementa√ß√£o:**
```go
case "ctrl+c":
    if m.urlInput.Value() != "" {
        m.urlInput, cmd = m.urlInput.Update(msg)
        return m, cmd
    }
    return m.handleKeyPress(msg)
```

### Melhorias Adicionais

- **CharLimit aumentado:** De 500 para 2000 caracteres (suporta URLs muito longas)
- **Todas as opera√ß√µes de edi√ß√£o:** Home, End, Delete, Backspace, setas, etc. funcionam normalmente

### Arquivos Modificados

- `internal/ui/model.go`:
  - Linha 58: CharLimit aumentado para 2000
  - Linha 91-139: L√≥gica de Update() refinada para clipboard

---

## [0.1.1] - 2025-10-16

### Corre√ß√µes Cr√≠ticas

#### 1. Input de URL n√£o aceitava digita√ß√£o
**Problema:** O campo URL n√£o permitia digita√ß√£o porque as teclas eram consumidas pelo handler de navega√ß√£o antes de chegarem ao textinput.

**Solu√ß√£o:** Modificada a fun√ß√£o `Update()` para passar as teclas normais diretamente para o textinput quando `focusIndex == 1`.

#### 2. Input n√£o responsivo
**Problema:** Width fixo de 60 caracteres, n√£o ajustava ao tamanho da tela.

**Solu√ß√£o:** Adicionada l√≥gica no `WindowSizeMsg` para calcular width dinamicamente.

#### 3. Layout e alinhamento ruins
**Problema:** Input n√£o estava bem estilizado e alinhado.

**Solu√ß√£o:** Refatorada a fun√ß√£o `viewRequestBuilder()` com bordas arredondadas e indica√ß√£o visual de foco.

---

**Vers√£o Anterior:** 0.1.0
**Build Atual:** Bem-sucedido (11MB)
**Status:** ‚úÖ MVP v0.2.0 COMPLETO - Pronto para produ√ß√£o!
